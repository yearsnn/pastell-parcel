:root {
  color-scheme: light dark;
  --page-bg: #000;
  --stage-bg: #000;
}

html, body { height: 100%; }
body {
  margin: 0;
  background: var(--page-bg);
  overflow: hidden;
  padding:
    max(env(safe-area-inset-top), 0)
    max(env(safe-area-inset-right), 0)
    max(env(safe-area-inset-bottom), 0)
    max(env(safe-area-inset-left), 0);
}

.stage {
  position: fixed;
  background: var(--stage-bg);
  overflow: hidden;
}

/* 비디오는 화면에서 숨김(회전은 JS에서만 처리) */
#cam {
  position: absolute;
  inset: -9999px;
  width: 1px;
  height: 1px;
  opacity: 0;
}

#view {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

/* 오버레이들(회전 X) */
#textImage {
  position: absolute;
  height: 85%;
  right: 0.5%;
  top: 50%;
  transform: translateY(-50%);
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#subtextImage1 {
  position: absolute;
  height: 40%;
  right: 40%;
  top: 2%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#subtextImage2 {
  position: absolute;
  height: 40%;
  right: 41.8%;
  top: 32%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#logoImage {
  position: absolute;
  height: 20%;
  right: 45%;
  transform: translateX(50%);
  bottom: -2.5%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}

/* 배지 */
.badge {
  position: absolute;
  left: 0.5%;
  top: 50%;
  width: 20%;
  object-fit: contain;
  pointer-events: none;
  z-index: 20;

  opacity: 0;
  transition: opacity 700ms ease, transform 700ms ease;
  will-change: opacity, transform;

  transform: translateY(-50%) rotate(90deg) scale(0.985);
}
.badge.show {
  opacity: 1;
  transform: translateY(-50%) rotate(90deg) scale(1);
}
/* === 배지 트레일 === */
.badge-trail {
  position: absolute;
  left: 30%;
  top: 50%;
  width: 12%;
  object-fit: contain;
  pointer-events: none;
  z-index: 18; /* 메인 배지(20)보다 살짝 아래 */
  opacity: 0;
  transform: translateY(-50%) rotate(90deg) scale(0.9);
  animation: trailFade 900ms ease-out forwards;
}

/* 트레일이 살짝 커졌다가 사라지는 애니메이션 */
@keyframes trailFade {
  0%   { opacity: 0; transform: translateY(-50%) rotate(90deg) scale(0.86); }
  15%  { opacity: 0.9; transform: translateY(-50%) rotate(90deg) scale(1.0); }
  100% { opacity: 0; transform: translateY(-50%) rotate(90deg) scale(1.12); }
}

