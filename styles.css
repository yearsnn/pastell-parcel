:root {
  color-scheme: light dark;
  --page-bg: #000;
  --stage-bg: #000;
}

html, body { height: 100%; }
body {
  margin: 0;
  background: var(--page-bg);
  overflow: hidden;
  padding:
    max(env(safe-area-inset-top), 0)
    max(env(safe-area-inset-right), 0)
    max(env(safe-area-inset-bottom), 0)
    max(env(safe-area-inset-left), 0);
}

.stage {
  position: fixed;
  background: var(--stage-bg);
  overflow: hidden;
}

/* 비디오는 화면에서 숨김(회전은 JS에서만 처리) */
#cam {
  position: absolute;
  inset: -9999px;
  width: 1px;
  height: 1px;
  opacity: 0;
}

#view {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
}

/* 오버레이들(회전 X) */
#textImage {
  position: absolute;
  height: 85%;
  right: 0.5%;
  top: 50%;
  transform: translateY(-50%);
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#subtextImage1 {
  position: absolute;
  height: 45%;
  right: 45%;
  top: 2%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#subtextImage2 {
  position: absolute;
  height: 45%;
  right: 45%;
  top: 32%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}
#logoImage {
  position: absolute;
  height: 20%;
  right: 45%;
  transform: translateX(50%);
  bottom: -2.5%;
  object-fit: contain;
  pointer-events: none;
  z-index: 10;
}

/* 배지 */
.badge {
  position: absolute;
  left: 0.5%;
  top: 50%;
  width: 20%;
  object-fit: contain;
  pointer-events: none;
  z-index: 20;

  opacity: 0;
  transition: opacity 2000ms ease, transform 2000ms ease;
  will-change: opacity, transform;

  transform: translateY(-50%) rotate(90deg) scale(0.985);
}
.badge.show {
  opacity: 1;
  transform: translateY(-50%) rotate(90deg) scale(1);
}

.badge-layer {
  position: absolute; /* ✅ stage를 기준으로 꽉 채운 레이어 */
  inset: 0;
  pointer-events: none;
  z-index: 18;         /* .badge(20)보다 아래면 그대로, 필요시 조절 */
}

/* === 배지 트레일 === */
.badge-trail {
  position: absolute;
  left: 10%;            /* ✅ 여기만 원하는 퍼센트로 조절 */
  top: 50%;
  width: 20%;
  object-fit: contain;
  pointer-events: none;
  z-index: 18;
  opacity: 0;
  transform: translateY(-50%) rotate(90deg) scale(0.9); /* X이동 없음 */
  animation: trailFade 3000ms ease-out forwards;
}

/*짝 커졌다가 사라지는 애니메이션 */
@keyframes trailFade {
  0%   { opacity: 0; transform: translateY(-50%) rotate(90deg) scale(0.86); }
  70%  { opacity: 0.9; transform: translateY(-50%) rotate(90deg) scale(1.0); }
  100% { opacity: 0; transform: translateY(-50%) rotate(90deg) scale(1.12); }
}

